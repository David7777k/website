# üêº PANDA Lounge - –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–ª—å—è–Ω–Ω–æ–π

–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ full-stack –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–ª—å—è–Ω–Ω–æ–π —Å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å—é, —Å–∏—Å—Ç–µ–º–æ–π –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä–æ–º–æ–∫–æ–¥–∞–º–∏, –¥–∂—É–∫–±–æ–∫—Å–æ–º –∏ QR-–≤–∏–∑–∏—Ç–∞–º–∏.

[![Next.js](https://img.shields.io/badge/Next.js-15.5-black)](https://nextjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.3-blue)](https://www.typescriptlang.org/)
[![Prisma](https://img.shields.io/badge/Prisma-6.16-teal)](https://www.prisma.io/)
[![Production Ready](https://img.shields.io/badge/Production-Ready-green)](/)

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
yarn install

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–î
npx prisma generate
npx prisma migrate dev
npm run prisma:seed

# –ó–∞–ø—É—Å–∫
npm run dev
```

–û—Ç–∫—Ä–æ–π—Ç–µ [http://localhost:3000](http://localhost:3000)

**–¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã:**
- üëë Admin: `admin@panda.com` / `admin123`
- üë§ User: `demo@panda.com` / `demo123`
- üë®‚Äçüíº Staff: `staff@panda.com` / `staff123`

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

**Frontend:** Next.js 15.5 ‚Ä¢ React 18 ‚Ä¢ TypeScript ‚Ä¢ Tailwind CSS  
**Backend:** Next.js API Routes ‚Ä¢ NextAuth.js  
**Database:** SQLite (dev) / PostgreSQL (prod) ‚Ä¢ Prisma ORM  
**Auth:** NextAuth —Å Google OAuth + Email/Password

---

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –î–ª—è –≥–æ—Å—Ç–µ–π
‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –º–µ–Ω—é, —Å–æ–±—ã—Ç–∏–π, FAQ  
‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚úÖ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Å –∏—Å—Ç–æ—Ä–∏–µ–π –≤–∏–∑–∏—Ç–æ–≤  
‚úÖ –ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã (—Ä–∞–∑ –≤ –¥–µ–Ω—å)  
‚úÖ QR-–∫–æ–¥—ã –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤–∏–∑–∏—Ç–æ–≤  
‚úÖ –ü—Ä–æ–º–æ–∫–æ–¥—ã –∏ –±–æ–Ω—É—Å—ã  
‚úÖ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞  
‚úÖ –ó–∞–∫–∞–∑ –º—É–∑—ã–∫–∏ (–¥–∂—É–∫–±–æ–∫—Å)  
‚úÖ –ß–∞–µ–≤—ã–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—É

### –î–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∞
‚úÖ Staff –ø–∞–Ω–µ–ª—å —Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π —Å–º–µ–Ω—ã  
‚úÖ –°–∫–∞–Ω–µ—Ä QR-–∫–æ–¥–æ–≤ –¥–ª—è –≤–∏–∑–∏—Ç–æ–≤  
‚úÖ –ú–æ–¥–µ—Ä–∞—Ü–∏—è –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤  
‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ (2 –≤ –Ω–µ–¥–µ–ª—é)

### –î–ª—è –∞–¥–º–∏–Ω–æ–≤
‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏  
‚úÖ Risk-–¥–æ—Å–∫–∞ (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏)  
‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞–º–∏  
‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è–º–∏ –∏ –º–µ–Ω—é  
‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã –∏ –ª–æ–≥–∏ –¥–µ–π—Å—Ç–≤–∏–π  
‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
/app
‚îú‚îÄ‚îÄ app/                  # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ admin/           # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ staff/           # –ü–∞–Ω–µ–ª—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∞
‚îÇ   ‚îú‚îÄ‚îÄ profile/         # –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ api/             # API routes (30+ endpoints)
‚îÇ   ‚îî‚îÄ‚îÄ components/      # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (40+)
‚îú‚îÄ‚îÄ lib/                 # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ auth-system.ts   # NextAuth –∫–æ–Ω—Ñ–∏–≥
‚îÇ   ‚îú‚îÄ‚îÄ qr-system.ts     # QR —Å–∏—Å—Ç–µ–º–∞ —Å HMAC
‚îÇ   ‚îî‚îÄ‚îÄ prisma.ts        # Prisma –∫–ª–∏–µ–Ω—Ç
‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îî‚îÄ‚îÄ schema.prisma    # 18 –º–æ–¥–µ–ª–µ–π –ë–î
‚îî‚îÄ‚îÄ public/              # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
```

### RBAC (Role-Based Access Control)

**4 —Ä–æ–ª–∏:** Guest ‚Üí User ‚Üí Staff ‚Üí Admin

**–ó–∞—â–∏—Ç–∞ –Ω–∞ 3 —É—Ä–æ–≤–Ω—è—Ö:**
1. **Middleware** - –ó–∞—â–∏—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤ `/admin/*`, `/staff/*`
2. **API** - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ –≤ –∫–∞–∂–¥–æ–º endpoint
3. **UI** - –°–∫—Ä—ã—Ç–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ —Ä–æ–ª—è–º

### QR –°–∏—Å—Ç–µ–º–∞

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- HMAC-SHA256 –ø–æ–¥–ø–∏—Å—å
- TTL (60 –º–∏–Ω—É—Ç)
- Anti-replay (nonce –ø—Ä–æ–≤–µ—Ä–∫–∞)
- –ê—É–¥–∏—Ç –≤—Å–µ—Ö –≤–∞–ª–∏–¥–∞—Ü–∏–π

**–¢–∏–ø—ã QR:**
- `visit` - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤–∏–∑–∏—Ç–∞
- `promo` - –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–∞
- `referral` - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
- `staff_check` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞ (—Ç–æ–ª—å–∫–æ admin)

**API:**
- `POST /api/qr/generate` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR —Å PNG
- `POST /api/qr/validate` - –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏ (18 total)

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** User, Account, Session  
**QR –°–∏—Å—Ç–µ–º–∞:** QRValidationEvent, Visit  
**–ü—Ä–æ–º–æ:** PromoCode, PromoUsage, Coupon  
**–ö–æ–ª–µ—Å–æ:** WheelSpin, WheelPrize  
**–î—Ä—É–≥–æ–µ:** MusicOrder, Referral, Tip, Staff, Event, MenuItem, FAQ

### –ü–µ—Ä–µ—Ö—ñ–¥ –Ω–∞ PostgreSQL (Production)

**–ö—Ä–æ–∫ 1:** –û–Ω–æ–≤—ñ—Ç—å `prisma/schema.prisma`
```prisma
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}
```

**–ö—Ä–æ–∫ 2:** –û–Ω–æ–≤—ñ—Ç—å `.env`
```bash
# PostgreSQL connection string
DATABASE_URL="postgresql://user:password@host:5432/panda_lounge?schema=public"
```

**–ö—Ä–æ–∫ 3:** –í–∏–∫–æ–Ω–∞–π—Ç–µ –º—ñ–≥—Ä–∞—Ü—ñ—ó
```bash
# Deploy migrations to PostgreSQL
npx prisma migrate deploy

# Generate Prisma Client
npx prisma generate

# Seed initial data
npm run prisma:seed
```

**–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∏ PostgreSQL:**
- [Supabase](https://supabase.com) - –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –ø–ª–∞–Ω
- [Neon](https://neon.tech) - Serverless PostgreSQL
- [Vercel Postgres](https://vercel.com/storage/postgres) - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Vercel

---

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Vercel

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

1. **–°–æ–∑–¥–∞–π—Ç–µ PostgreSQL –ë–î** (Vercel Postgres / Supabase / Neon)
2. **–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã:**
   ```bash
   # NEXTAUTH_SECRET
   openssl rand -base64 32
   
   # QR_SECRET
   openssl rand -base64 32
   ```

### Deployment

```bash
# –ß–µ—Ä–µ–∑ GitHub (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
git init
git add .
git commit -m "Initial commit"
git remote add origin <your-repo>
git push -u origin main

# Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç Next.js
# –î–æ–±–∞–≤—å—Ç–µ environment variables –≤ Vercel Dashboard
```

### Environment Variables (Vercel)

```bash
DATABASE_URL="postgresql://..."
NEXTAUTH_URL="https://your-app.vercel.app"
NEXTAUTH_SECRET="your-generated-secret"
QR_SECRET="your-generated-secret"
QR_TTL_MINUTES="60"
GOOGLE_CLIENT_ID="your-google-id"
GOOGLE_CLIENT_SECRET="your-google-secret"
APP_NAME="PANDA Lounge"
APP_URL="https://your-app.vercel.app"
NODE_ENV="production"
```

### Google OAuth Setup

1. [Google Cloud Console](https://console.cloud.google.com/)
2. APIs & Services ‚Üí Credentials
3. –î–æ–±–∞–≤—å—Ç–µ Authorized Redirect URI:
   ```
   https://your-app.vercel.app/api/auth/callback/google
   ```

### –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
npx prisma migrate deploy

# –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
npm run prisma:seed

# –ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é!
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ ‚úÖ

- NextAuth.js —Å secure cookies
- bcrypt —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π (12 rounds)
- CSRF –∑–∞—â–∏—Ç–∞ (–≤—Å—Ç—Ä–æ–µ–Ω–∞)
- HMAC-SHA256 –¥–ª—è QR –∫–æ–¥–æ–≤
- Anti-replay –∑–∞—â–∏—Ç–∞
- Role-based access control (3 —É—Ä–æ–≤–Ω—è)
- Audit logging (AdminLog, QRValidationEvent)
- Prisma ORM (–∑–∞—â–∏—Ç–∞ –æ—Ç SQL injection)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è production ‚ö†Ô∏è

- –î–æ–±–∞–≤—å—Ç–µ rate limiting –Ω–∞ auth endpoints
- –†–æ—Ç–∏—Ä—É–π—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –∫–∞–∂–¥—ã–µ 90 –¥–Ω–µ–π
- –í–∫–ª—é—á–∏—Ç–µ HTTPS (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ Vercel)
- –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ 2FA –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫ (Sentry)

---

## üé® Design System

**–¢–µ–º–∞:** Premium Dark —Å Bamboo Green accent  
**–¶–≤–µ—Ç–∞:**
- Base: `#0F172A` (Dark Navy)
- Accent: `#10B981` (Bamboo Green)
- Text: `#E5E7EB` (Light Gray)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- Buttons (primary, secondary, ghost, danger)
- Glass morphism cards
- Loading skeletons
- Empty states
- Error boundaries

**Responsive:**
- Mobile: Bottom dock –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- Desktop: Top –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- Breakpoints: sm, md, lg, xl

---

## üë®‚Äçüíª –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ö–æ–º–∞–Ω–¥—ã

```bash
npm run dev              # Dev —Å–µ—Ä–≤–µ—Ä
npm run build            # Production build
npm run start            # Production —Å–µ—Ä–≤–µ—Ä
npm run lint             # ESLint

npx prisma studio        # GUI –¥–ª—è –ë–î
npx prisma generate      # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma Client
npx prisma migrate dev   # –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
npm run prisma:seed      # –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ API

```
/api/
‚îú‚îÄ‚îÄ auth/               # NextAuth endpoints
‚îú‚îÄ‚îÄ admin/              # Admin endpoints (admin only)
‚îÇ   ‚îú‚îÄ‚îÄ users           # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ promos          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ settings        # –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îú‚îÄ‚îÄ staff/              # Staff endpoints (staff + admin)
‚îÇ   ‚îú‚îÄ‚îÄ events          # –°–æ–±—ã—Ç–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∞
‚îÇ   ‚îî‚îÄ‚îÄ rate            # –†–µ–π—Ç–∏–Ω–≥–∏
‚îú‚îÄ‚îÄ qr/                 # QR —Å–∏—Å—Ç–µ–º–∞
‚îÇ   ‚îú‚îÄ‚îÄ generate        # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR
‚îÇ   ‚îú‚îÄ‚îÄ validate        # –í–∞–ª–∏–¥–∞—Ü–∏—è QR
‚îÇ   ‚îî‚îÄ‚îÄ stats           # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚îú‚îÄ‚îÄ user/               # User endpoints
‚îÇ   ‚îî‚îÄ‚îÄ referrals       # –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
‚îî‚îÄ‚îÄ wheel/              # –ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã
    ‚îî‚îÄ‚îÄ spin            # –ö—Ä—É—Ç–∏—Ç—å –∫–æ–ª–µ—Å–æ
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Ä–æ–ª–∏

1. –û–±–Ω–æ–≤–∏—Ç–µ Prisma schema:
   ```prisma
   model User {
     role String @default("guest") // guest, user, staff, admin, moderator
   }
   ```

2. –û–±–Ω–æ–≤–∏—Ç–µ middleware (`/app/middleware.ts`)
3. –û–±–Ω–æ–≤–∏—Ç–µ API –ø—Ä–æ–≤–µ—Ä–∫–∏
4. –û–±–Ω–æ–≤–∏—Ç–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
npm run dev

# –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ñ–ª–æ—É:
# 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
# 2. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (email + Google OAuth)
# 3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR –∫–æ–¥–∞
# 4. –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ QR (staff account)
# 5. –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å (admin account)
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (TODO)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
yarn add -D vitest @testing-library/react playwright

# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤
/tests/
  /unit/          # –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã
  /integration/   # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
  /e2e/           # E2E —Ç–µ—Å—Ç—ã (Playwright)
```

---

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**Lighthouse Score (–æ–∂–∏–¥–∞–µ–º—ã–π):**
- Performance: ~85/100
- Accessibility: ~90/100
- Best Practices: ~95/100
- SEO: ~85/100

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- ‚úÖ Code splitting (Next.js automatic)
- ‚úÖ Lazy loading
- ‚úÖ CSS purging (Tailwind)
- ‚úÖ Font optimization
- ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `next/image` –¥–ª—è –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚ö†Ô∏è –î–æ–±–∞–≤—å—Ç–µ sitemap.xml –∏ robots.txt

---

## üêõ Troubleshooting

### –û—à–∏–±–∫–∞: Module not found

```bash
rm -rf node_modules .next
yarn install
npm run dev
```

### –û—à–∏–±–∫–∞: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

```bash
rm -f prisma/dev.db
npx prisma migrate dev --name init
npm run prisma:seed
```

### –û—à–∏–±–∫–∞: Google OAuth 400

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ redirect URI –≤ Google Console
- –£–±–µ–¥–∏—Ç–µ—Å—å: `http://localhost:3000/api/auth/callback/google`
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-10 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –û—à–∏–±–∫–∞: –ü–æ—Ä—Ç 3000 –∑–∞–Ω—è—Ç

```bash
# –ù–∞–π–¥–∏—Ç–µ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å
lsof -ti:3000 | xargs kill -9

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç
PORT=3001 npm run dev
```

---

## üéâ What's New in v2.1

### ‚úÖ –ö—Ä–∏—Ç–∏—á–Ω—ñ —Ñ—ñ–∫—Å–∏
- **–ù–∞–≤—ñ–≥–∞—Ü—ñ—è:** –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –≤—Å—ñ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è —Ç–∞ —è–∫–æ—Ä—ñ
- **–ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω–∏:** –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ FSM –∑ —Å–µ—Ä–≤–µ—Ä–Ω–æ—é –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é —Ç–∞ –∞–Ω—Ç—ñ-–∞–±—É–∑–æ–º
- **NextAuth:** –°—Ç–∞–±—ñ–ª—å–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º–∏ callbacks

### üé° –ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω–∏ v2.1
- FSM states: LOCKED ‚Üí READY ‚Üí SPINNING ‚Üí RESULT ‚Üí COOLDOWN
- –°–µ—Ä–≤–µ—Ä–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è (7 –¥–Ω—ñ–≤ –∫—É–ª–¥–∞—É–Ω)
- –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π–Ω–∞ –≤–∏–¥–∞—á–∞ –ø—Ä–∏–∑—ñ–≤
- Audit logging –≤—Å—ñ—Ö –¥—ñ–π
- API: `GET /api/wheel/status`, `POST /api/wheel/spin`

### üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö
- –î–æ–¥–∞–Ω–æ AuditLog –¥–ª—è –ª–æ–≥—É–≤–∞–Ω–Ω—è
- –û–Ω–æ–≤–ª–µ–Ω–æ WheelSpin —Ç–∞ WheelPrize –∑ –Ω–æ–≤–∏–º–∏ –ø–æ–ª—è–º–∏
- –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ PostgreSQL (production ready)

–î–µ—Ç–∞–ª—å–Ω–∏–π —Å–ø–∏—Å–æ–∫ –∑–º—ñ–Ω: [CHANGELOG.md](./CHANGELOG.md)

---

## üìà Roadmap

### v2.2 (–ù–∞—Å—Ç—É–ø–Ω–∏–π —Ä–µ–ª—ñ–∑)
- [ ] PostgreSQL –¥–ª—è production
- [ ] E2E tests (Playwright)
- [ ] –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∑ CRUD —Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ—é
- [ ] Rate limiting –Ω–∞ API
- [ ] Real-time notifications (WebSocket)

### v3.0 (–ë—É–¥—É—â–µ–µ)
- [ ] Mobile app (React Native)
- [ ] Telegram bot
- [ ] Payment integration (Stripe/Fondy)
- [ ] CRM —Å–∏—Å—Ç–µ–º–∞
- [ ] ML recommendations

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ!

---

## ü§ù Contributing

Pull requests –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è! –î–ª—è –±–æ–ª—å—à–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ issue.

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Next.js Docs](https://nextjs.org/docs)
- [Prisma Docs](https://www.prisma.io/docs)
- [NextAuth Docs](https://next-auth.js.org/)
- [Tailwind Docs](https://tailwindcss.com/docs)

### Deployment

- [Vercel](https://vercel.com)
- [Supabase](https://supabase.com)
- [Neon](https://neon.tech)

---

## ‚ú® Features Checklist

- [x] üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (Email + Google OAuth)
- [x] üë• RBAC (4 —Ä–æ–ª–∏)
- [x] üì± QR —Å–∏—Å—Ç–µ–º–∞ (HMAC-SHA256)
- [x] üé° –ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã
- [x] üéüÔ∏è –ü—Ä–æ–º–æ–∫–æ–¥—ã
- [x] üë´ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
- [x] üéµ –î–∂—É–∫–±–æ–∫—Å —Å –º–æ–¥–µ—Ä–∞—Ü–∏–µ–π
- [x] üí∞ –°–∏—Å—Ç–µ–º–∞ —á–∞–µ–≤—ã—Ö
- [x] ‚≠ê –†–µ–π—Ç–∏–Ω–≥ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞
- [x] üìÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è–º–∏
- [x] üçΩÔ∏è –ú–µ–Ω—é
- [x] üìä –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- [x] üì± Responsive design
- [x] üé® Dark theme
- [x] üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

**–í–µ—Ä—Å—ñ—è:** 2.1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready  
**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** –°—ñ—á–µ–Ω—å 2025

**–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–∞–ª—å—è–Ω–Ω—ã—Ö –∏ –ª–∞—É–Ω–∂-–±–∞—Ä–æ–≤ üêº**
